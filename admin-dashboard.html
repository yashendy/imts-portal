<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>لوحة الإدارة</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/admin.css" />
</head>
<body>
  <header class="topbar">
    <div class="topbar__left"><h1 class="brand">لوحة الإدارة</h1></div>
    <div class="topbar__right">
      <span id="currentUserName" class="user-chip">...</span>
      <button id="btnSignOut" class="btn btn-ghost">تسجيل الخروج</button>
    </div>
  </header>

  <main class="container">
    <!-- Overview -->
    <section class="grid">
      <article class="card">
        <h2 class="card__title">نظرة عامة</h2>
        <div class="table-wrapper">
          <table class="table">
            <tbody>
              <tr><th>إجمالي المستخدمين</th><td id="overviewUsers">-</td></tr>
              <tr><th>المعلّمون</th><td id="overviewTeachers">-</td></tr>
              <tr><th>الصفوف</th><td id="overviewClasses">-</td></tr>
            </tbody>
          </table>
        </div>
      </article>

      <!-- Create Invite -->
      <article class="card">
        <h2 class="card__title">إنشاء دعوة</h2>
        <div id="inviteAlert" class="alert" style="display:none"></div>
        <form id="formInvite" class="form">
          <div class="form__row">
            <label class="label">الدور</label>
            <select id="inviteRole" class="input">
              <option value="teacher">معلم</option>
              <option value="admin">أدمن</option>
            </select>
            <small id="roleHint" class="hint" style="display:none">مسموح للأدمن إنشاء دعوات “معلم” فقط.</small>
          </div>
          <div class="form__row">
            <label class="label">عدد الاستخدامات</label>
            <input id="usageLimit" class="input" type="number" min="1" value="1" />
          </div>
          <div class="form__row">
            <label class="label">تاريخ الانتهاء (اختياري)</label>
            <input id="expiresAt" class="input" type="datetime-local" />
          </div>
          <div class="form__row">
            <label class="label">الكود</label>
            <div class="inline">
              <input id="inviteCode" class="input" type="text" placeholder="INV-XXXXXX" />
              <button id="btnGenCode" class="btn btn-secondary" type="button">توليد</button>
            </div>
          </div>
          <div class="form__row">
            <label class="switch">
              <input id="inviteActive" type="checkbox" checked />
              <span>تفعيل الدعوة</span>
            </label>
          </div>
          <div class="form__actions">
            <button class="btn btn-primary" type="submit">إنشاء</button>
          </div>
        </form>
      </article>

      <!-- Users -->
      <article class="card">
        <h2 class="card__title">المستخدمون</h2>
        <div class="table-wrapper">
          <table class="table" id="tblUsers">
            <thead>
              <tr><th>الاسم</th><th>البريد</th><th>الدور</th><th>الحالة</th><th>إنشاء</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </article>

      <!-- Classes -->
      <article class="card">
        <h2 class="card__title">الصفوف</h2>
        <div class="table-wrapper">
          <table class="table" id="tblClasses">
            <thead>
              <tr><th>الصف</th><th>المسار</th><th>المستوى</th><th>عدد المعلمين</th><th>إنشاء</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </article>

      <!-- Invites (list) -->
      <article class="card">
        <h2 class="card__title">الدعوات</h2>
        <div class="table-wrapper">
          <table class="table" id="tblInvites">
            <thead>
              <tr><th>الكود</th><th>الدور</th><th>الحالة</th><th>المستخدم</th><th>الحد</th><th>إنشاء</th><th>إجراءات</th></tr>
            </thead>
            <tbody id="inviteList"></tbody>
          </table>
        </div>
      </article>
    </section>
  </main>

  <script type="module" src="js/pages/admin-dashboard.js"></script>
</body>
</html>
